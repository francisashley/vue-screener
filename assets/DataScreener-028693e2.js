import{d as l,o as c,e as u,t as _,F as y,f as N,n as $,g as h,j as k,k as O,l as P,m,p as D,q as v,s as w,u as S}from"./vue.esm-bundler-96882035.js";const V=l({name:"DataScreenerPrettyJson",props:{data:{type:[Array,Object],default:()=>[]}}});const p=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},ne={class:"ds-pretty"};function se(t,e,r,n,o,s){return c(),u("pre",ne,_(JSON.stringify(t.data,null,2)),1)}const ae=p(V,[["render",se],["__scopeId","data-v-03beb246"]]);V.__docgenInfo={displayName:"DataScreenerPrettyJson",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"array|object"},defaultValue:{func:!0,value:"() => []"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/PrettyJson.vue"]};const A=l({name:"DataScreenerPagination",props:{currentPage:{type:Number,default:1},totalItems:{type:Number,default:null,required:!0},perPage:{type:Number,default:null,required:!0}},computed:{totalPages(){return Math.ceil(this.totalItems/this.perPage)},pages(){return Array.from(new Array(this.totalPages+1).keys()).slice(1)},firstIndexOfCurrentPage(){return this.currentPage*this.perPage-this.perPage+1},lastIndexOfCurrentPage(){return this.currentPage*this.perPage>this.totalItems?this.totalItems:this.currentPage*this.perPage},currentPageIsInRange(){return this.totalPages>=this.currentPage}},mounted(){this.ensureCurrentPageIsValid()},watch:{totalItems(){this.ensureCurrentPageIsValid()}},methods:{isActive(t){return t===this.currentPage},ensureCurrentPageIsValid(){this.currentPageIsInRange||this.selectPage(this.totalPages?this.totalPages:1)},selectPage(t){this.$emit("change-page",t)}}});const oe={class:"ds-pagination"},ie={key:0,class:"ds-pagination__buttons"},ce=["onClick"],ue={class:"ds-pagination__details"};function de(t,e,r,n,o,s){return c(),u("div",oe,[t.pages.length>1?(c(),u("ul",ie,[(c(!0),u(y,null,N(t.pages,a=>(c(),u("li",{key:a,class:$(["ds-pagination__buttons-button",t.isActive(a)&&"ds-pagination__buttons-button--active"])},[h("a",{href:"#",onClick:k(i=>t.selectPage(a),["prevent"])},_(a),9,ce)],2))),128))])):O("",!0),h("div",ue,[t.totalItems?t.lastIndexOfCurrentPage<t.perPage?(c(),u(y,{key:1},[P(" Showing "+_(t.lastIndexOfCurrentPage)+" of "+_(t.totalItems),1)],64)):(c(),u(y,{key:2},[P(" Showing "+_(t.firstIndexOfCurrentPage)+"-"+_(t.lastIndexOfCurrentPage)+" of "+_(t.totalItems),1)],64)):(c(),u(y,{key:0},[P("Showing 0 results")],64))])])}const le=p(A,[["render",de],["__scopeId","data-v-f8ccd7cd"]]);A.__docgenInfo={displayName:"DataScreenerPagination",exportName:"default",description:"",tags:{},props:[{name:"currentPage",type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"totalItems",type:{name:"number"},required:!0,defaultValue:{func:!1,value:"null"}},{name:"perPage",type:{name:"number"},required:!0,defaultValue:{func:!1,value:"null"}}],events:[{name:"change-page",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/Pagination.vue"]};var M=function(e,r){return e<r?-1:e>r?1:0},pe=/(^0x[\da-fA-F]+$|^([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?!\.\d+)(?=\D|\s|$))|\d+)/g,T=/^\s+|\s+$/g,fe=/\s+/g,me=/^[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?$/,he=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[/-]\d{1,4}[/-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,ge=/^0+[1-9]{1}[0-9]*$/,_e=/[^\x00-\x80]/,ye=function(e,r){var n=e.localeCompare(r);return n?n/Math.abs(n):0},E=function(e,r){return e<r?-1:e>r?1:0},ve=function(e,r){for(var n=e.length,o=r.length,s=Math.min(n,o),a=0;a<s;a++){var i=e[a],d=r[a];if(i.normalizedString!==d.normalizedString){if(i.normalizedString===""!=(d.normalizedString===""))return i.normalizedString===""?-1:1;if(i.parsedNumber!==void 0&&d.parsedNumber!==void 0){var f=M(i.parsedNumber,d.parsedNumber);return f===0?E(i.normalizedString,d.normalizedString):f}else return i.parsedNumber!==void 0||d.parsedNumber!==void 0?i.parsedNumber!==void 0?-1:1:_e.test(i.normalizedString+d.normalizedString)&&i.normalizedString.localeCompare?ye(i.normalizedString,d.normalizedString):E(i.normalizedString,d.normalizedString)}}return n>s||o>s?n<=s?-1:1:0},be=function(e,r){return(e.chunks?!r.chunks:r.chunks)?e.chunks?-1:1:(e.isNaN?!r.isNaN:r.isNaN)?e.isNaN?-1:1:(e.isSymbol?!r.isSymbol:r.isSymbol)?e.isSymbol?-1:1:(e.isObject?!r.isObject:r.isObject)?e.isObject?-1:1:(e.isArray?!r.isArray:r.isArray)?e.isArray?-1:1:(e.isFunction?!r.isFunction:r.isFunction)?e.isFunction?-1:1:(e.isNull?!r.isNull:r.isNull)?e.isNull?-1:1:0},Se=function(e,r){return e.value===r.value?0:e.parsedNumber!==void 0&&r.parsedNumber!==void 0?M(e.parsedNumber,r.parsedNumber):e.chunks&&r.chunks?ve(e.chunks,r.chunks):be(e,r)},$e=function(e,r,n){for(var o=e.index,s=e.values,a=r.index,i=r.values,d=s.length,f=n.length,g=0;g<d;g++){var b=g<f?n[g]:null;if(b&&typeof b=="function"){var I=b(s[g].value,i[g].value);if(I)return I}else{var F=Se(s[g],i[g]);if(F)return F*(b==="desc"?-1:1)}}return o-a},Ne=function(e){return typeof e=="function"?e:function(r){if(Array.isArray(r)){var n=Number(e);if(Number.isInteger(n))return r[n]}else if(r&&typeof r=="object"&&typeof e!="function")return r[e];return r}},Ie=function(e){return typeof e=="boolean"||e instanceof Boolean?Number(e).toString():typeof e=="number"||e instanceof Number?e.toString():e instanceof Date?e.getTime().toString():typeof e=="string"||e instanceof String?e.toLowerCase().replace(T,""):""},z=function(e){if(e.length!==0){var r=Number(e);if(!Number.isNaN(r))return r}},Fe=function(e){if(he.test(e)){var r=Date.parse(e);if(!Number.isNaN(r))return r}},Pe=function(e){var r=z(e);return r!==void 0?r:Fe(e)},we=function(e){return e.replace(pe,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")},De=function(e){return e.replace(fe," ").replace(T,"")},Ce=function(e,r,n){if(me.test(e)&&(!ge.test(e)||r===0||n[r-1]!=="."))return z(e)||0},ke=function(e,r,n){return{parsedNumber:Ce(e,r,n),normalizedString:De(e)}},Oe=function(e){var r=we(e).map(ke);return r},Re=function(e){return typeof e=="function"},x=function(e){return Number.isNaN(e)||e instanceof Number&&Number.isNaN(e.valueOf())},Ee=function(e){return e===null},xe=function(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)&&!(e instanceof Date)},Ve=function(e){return typeof e=="symbol"},Ae=function(e){return e===void 0},Me=function(e){if(typeof e=="string"||e instanceof String||(typeof e=="number"||e instanceof Number)&&!x(e)||typeof e=="boolean"||e instanceof Boolean||e instanceof Date){var r=Ie(e),n=Pe(r),o=Oe(n?""+n:r);return{parsedNumber:n,chunks:o,value:e}}return{isArray:Array.isArray(e),isFunction:Re(e),isNaN:x(e),isNull:Ee(e),isObject:xe(e),isSymbol:Ve(e),isUndefined:Ae(e),value:e}},Te=function(e,r){return r(e)},ze=function(e,r){return e[r]},Qe=function(e,r,n){var o=r.length?r.map(Ne):[function(a){return a}],s=e.map(function(a,i){var d=o.map(function(f){return Te(a,f)}).map(Me);return{index:i,values:d}});return s.sort(function(a,i){return $e(a,i,n)}),s.map(function(a){return ze(e,a.index)})},Ue=function(e){if(!e)return[];var r=Array.isArray(e)?[].concat(e):[e];return r.some(function(n){return typeof n!="string"&&typeof n!="number"&&typeof n!="function"})?[]:r},je=function(e){if(!e)return[];var r=Array.isArray(e)?[].concat(e):[e];return r.some(function(n){return n!=="asc"&&n!=="desc"&&typeof n!="function"})?[]:r};function He(t,e,r){if(!t||!Array.isArray(t))return[];var n=Ue(e),o=je(r);return Qe(t,n,o)}const Q=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Q.source);function R(t){return t&&Le.test(t)?t.replace(Q,"\\$&"):t||""}function U(t){try{return new RegExp(t),!0}catch{return!1}}function qe(t,e){const r=new RegExp(R(e),"ig");return t.replace(r,n=>`<mark>${n}</mark>`)}const j=l({name:"Sort"}),Je={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",style:{height:"1rem",width:"1rem"}},We=h("path",{fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z",class:""},null,-1),Ke=[We];function Ge(t,e,r,n,o,s){return c(),u("svg",Je,Ke)}const Ze=p(j,[["render",Ge]]);j.__docgenInfo={displayName:"Sort",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/icons/Sort.vue"]};const H=l({name:"SortUp"}),Xe={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",style:{height:"1rem",width:"1rem"}},Ye=h("path",{fill:"currentColor",d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z",class:""},null,-1),Be=[Ye];function et(t,e,r,n,o,s){return c(),u("svg",Xe,Be)}const tt=p(H,[["render",et]]);H.__docgenInfo={displayName:"SortUp",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/icons/SortUp.vue"]};const L=l({name:"SortDown"}),rt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",style:{height:"1rem",width:"1rem"}},nt=h("path",{fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z",class:""},null,-1),st=[nt];function at(t,e,r,n,o,s){return c(),u("svg",rt,st)}const ot=p(L,[["render",at]]);L.__docgenInfo={displayName:"SortDown",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/icons/SortDown.vue"]};const q=l({name:"DataScreenerTable",props:{isSortable:{type:Boolean,default:!0},sortDirection:{type:String,default:null}},components:{SortIcon:Ze,SortUpIcon:tt,SortDownIcon:ot}});const it={key:0,class:"ds-table-head-field__sortable-icon"};function ct(t,e,r,n,o,s){const a=m("sort-icon"),i=m("sort-up-icon"),d=m("sort-down-icon");return c(),u("td",{class:$(["ds-table-head-field",{"ds-table-head-field--is-sortable":t.isSortable}]),onClick:e[0]||(e[0]=f=>t.isSortable&&t.$emit("sort"))},[D(t.$slots,"default",{},void 0,!0),t.isSortable?(c(),u("div",it,[t.sortDirection===null?(c(),v(a,{key:0})):t.sortDirection==="asc"?(c(),v(i,{key:1})):t.sortDirection==="desc"?(c(),v(d,{key:2})):O("",!0)])):O("",!0)],2)}const ut=p(q,[["render",ct],["__scopeId","data-v-711e9097"]]);q.__docgenInfo={displayName:"DataScreenerTable",exportName:"default",description:"",tags:{},props:[{name:"isSortable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"sortDirection",type:{name:"sortDirection"},defaultValue:{func:!1,value:"null"}}],events:[{name:"sort"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/TableHeadField.vue"]};const J=l({name:"DataScreenerTable",props:{fields:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},highlight:{type:String,default:""}},data(){return{sortField:null,sortDirection:"desc"}},components:{TableHeadField:ut},computed:{getSortedRows(){var r;const t=this.rows,e=((r=t[0])==null?void 0:r.findIndex(n=>n.key===this.sortField))??null;if(this.sortField&&this.sortDirection){const n=t.filter(s=>(s==null?void 0:s[e])===null||(s==null?void 0:s[e])===void 0),o=t.filter(s=>(s==null?void 0:s[e])!==null&&(s==null?void 0:s[e])!==void 0);return[...He(o,[s=>{var a;return(a=s==null?void 0:s[e])==null?void 0:a.value}],[this.sortDirection]),...n]}else return t}},methods:{getHighlighted(t,e){return["string","number"].includes(typeof t)?qe(String(t),e):t},getSortDirection(t){return this.sortField===t?this.sortDirection:null},onSort(t){this.sortField===t&&(this.sortDirection=this.sortDirection==="desc"?"asc":"desc"),this.sortField=t}}});const dt={class:"ds-table"},lt=["innerHTML"],pt={key:1,colspan:"100%"};function ft(t,e,r,n,o,s){const a=m("table-head-field");return c(),u("table",dt,[h("thead",null,[h("tr",null,[(c(!0),u(y,null,N(t.fields,(i,d)=>(c(),v(a,{key:d,field:i,"sort-direction":t.getSortDirection(i),onSort:f=>t.onSort(i)},{default:w(()=>[P(_(i),1)]),_:2},1032,["field","sort-direction","onSort"]))),128))])]),h("tbody",null,[(c(!0),u(y,null,N(t.getSortedRows,(i,d)=>(c(),u("tr",{key:d},[i?(c(!0),u(y,{key:0},N(i,(f,g)=>(c(),u("td",{key:g,innerHTML:f.hasValue?t.getHighlighted(f.value,t.highlight):""},null,8,lt))),128)):(c(),u("td",pt))]))),128))])])}const mt=p(J,[["render",ft],["__scopeId","data-v-f042bc9c"]]);J.__docgenInfo={displayName:"DataScreenerTable",exportName:"default",description:"",tags:{},props:[{name:"fields",type:{name:"string[]"},defaultValue:{func:!0,value:"() => []"}},{name:"rows",type:{name:"normalisedRow[]"},defaultValue:{func:!0,value:"() => []"}},{name:"highlight",type:{name:"string"},defaultValue:{func:!1,value:'""'}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/Table.vue"]};const W=l({name:"DataScreenerHeader"});const ht={class:"ds-header"};function gt(t,e,r,n,o,s){return c(),u("header",ht,[D(t.$slots,"default")])}const _t=p(W,[["render",gt]]);W.__docgenInfo={displayName:"DataScreenerHeader",exportName:"default",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/AppHeader.vue"]};const K=l({name:"DataScreenerContent"}),yt={class:"ds-content"};function vt(t,e,r,n,o,s){return c(),u("main",yt,[D(t.$slots,"default")])}const bt=p(K,[["render",vt]]);K.__docgenInfo={displayName:"DataScreenerContent",exportName:"default",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/AppMain.vue"]};const G=l({name:"DataScreenerFooter"});const St={class:"ds-footer"};function $t(t,e,r,n,o,s){return c(),u("footer",St,[D(t.$slots,"default",{},void 0,!0)])}const Nt=p(G,[["render",$t],["__scopeId","data-v-f51fa761"]]);G.__docgenInfo={displayName:"DataScreenerFooter",exportName:"default",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/AppFooter.vue"]};const It=new Set(["table","raw"]),Z=l({name:"DataScreenerRenderFormat",props:{activeFormat:{type:String,default:"table",validator:t=>It.has(t)}},emits:{"select-format":t=>t},setup(t,{emit:e}){return{onSelectFormat:n=>e("select-format",n),props:t}}});const Ft={class:"ds-render-format"};function Pt(t,e,r,n,o,s){return c(),u("div",Ft,[h("a",{href:"#",onClick:e[0]||(e[0]=k(a=>t.onSelectFormat("table"),["prevent"])),class:$(["ds-render-format__link",t.props.activeFormat==="table"&&"is-active"]),textContent:"Table"},null,2),h("a",{href:"#",onClick:e[1]||(e[1]=k(a=>t.onSelectFormat("raw"),["prevent"])),class:$(["ds-render-format__link",t.props.activeFormat==="raw"&&"is-active"]),textContent:"Raw"},null,2)])}const wt=p(Z,[["render",Pt]]);Z.__docgenInfo={displayName:"DataScreenerRenderFormat",exportName:"default",description:"",tags:{},props:[{name:"activeFormat",type:{name:"string"},defaultValue:{func:!1,value:'"table"'}}],events:[{name:"select-format"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/RenderFormat.vue"]};const Dt=new Set(["match-case","match-word","use-regex"]),X=l({name:"DataScreenerSearch",props:{query:{type:String,default:""},isValidQuery:{type:Boolean,default:!0},activeOptions:{type:Array,default:()=>[],validator:t=>t.every(e=>Dt.has(e))}},data(){return{history:[],historyIndex:null,options:[{id:"match-case",title:"Match case",text:"Aa"},{id:"match-word",title:"Match word",text:"ab"},{id:"use-regex",title:"Use regular expression",text:".*"}]}},computed:{useRegEx(){return this.activeOptions.some(t=>t==="use-regex")},getOptions(){return this.options.map(t=>({...t,isActive:this.activeOptions.includes(t.id)}))}},methods:{debouncedSearch(t){const e=t.target.value;this.search(e),e&&(this.history.push(e),this.historyIndex=this.history.length-1)},onKeydown(t){const e=t.key==="ArrowUp",r=t.key==="ArrowDown";!e&&!r||this.historyIndex===null||(t.preventDefault(),e&&this.historyIndex>0?this.historyIndex--:r&&this.historyIndex<this.history.length-1&&this.historyIndex++,this.search(this.history[this.historyIndex]))},search(t){this.$emit("search",t)},toggleOption(t){let e=this.activeOptions;e.includes(t)?e=e.filter(r=>r!==t):e=[...e,t],this.$emit("update-options",e)}}});const Ct={class:"ds-search"},kt=["value"],Ot={class:"ds-search__options"},Rt=["title","onClick"];function Et(t,e,r,n,o,s){return c(),u("div",Ct,[h("input",{value:t.query,onInput:e[0]||(e[0]=(...a)=>t.debouncedSearch&&t.debouncedSearch(...a)),onKeydown:e[1]||(e[1]=(...a)=>t.onKeydown&&t.onKeydown(...a)),type:"text",class:$(["ds-search__search",[t.useRegEx&&!t.isValidQuery&&"ds-search__search--error"]]),placeholder:"Search (↑↓ for history)"},null,42,kt),h("div",Ot,[(c(!0),u(y,null,N(t.getOptions,(a,i)=>(c(),u("button",{key:i,class:$(["ds-search__options-button",[{"ds-search__options-button--active":a.isActive},"ds-search__options-button--"+a.id]]),title:a.title,onClick:d=>t.toggleOption(a.id)},_(a.text),11,Rt))),128))])])}const xt=p(X,[["render",Et]]);X.__docgenInfo={displayName:"DataScreenerSearch",exportName:"default",description:"",tags:{},props:[{name:"query",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"isValidQuery",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"activeOptions",type:{name:"searchQueryOption[]"},defaultValue:{func:!0,value:"() => []"}}],events:[{name:"search",type:{names:["undefined"]}},{name:"update-options",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/Search.vue"]};const Y=l({name:"DataScreenerErrorMessage",props:{message:{type:String,default:""}}});const Vt={class:"ds-error-message"};function At(t,e,r,n,o,s){return c(),u("div",Vt,"[VueDataScreenerError]: "+_(t.message),1)}const Mt=p(Y,[["render",At],["__scopeId","data-v-a5044d3e"]]);Y.__docgenInfo={displayName:"DataScreenerErrorMessage",exportName:"default",description:"",tags:{},props:[{name:"message",type:{name:"string"},defaultValue:{func:!1,value:'""'}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/ErrorMessage.vue"]};function B(t){if(typeof t=="string")return"string";if(typeof t=="number")return"number";if(typeof t=="boolean")return"boolean";if(typeof t=="symbol")return"symbol";if(typeof t>"u")return"undefined";if(typeof t=="object")return t===null?"null":Array.isArray(t)?"array":"object";throw`Could not establish type of \`${t}\``}function C(t){const e=r=>typeof r=="object"&&r!==null;return Array.isArray(t)&&t.every(r=>Array.isArray(r)||e(r))}function Tt(t){t=t.map(o=>Array.isArray(o)?{...o}:o);const e=(o,s)=>({key:o,value:s,type:B(s),hasValue:s!==null||s!==void 0});let r=t.map(o=>Object.keys(o).map(s=>e(s,o[s])));const n=ee(r);return r=r.map(o=>n.map(s=>o.find(a=>a.key===s)||e(s,void 0))),r}function ee(t){const e=new Set;for(const r of t)for(const n of r)e.add(n.key);return Array.from(e)}function zt(t,e){return t.map(r=>e.map(n=>r.find(o=>o.key===n)||!1).filter(Boolean))}function Qt(t){let{rows:e=[]}=t;const{page:r=1,perPage:n=25,withPlaceholders:o=!1}=t,s=n*r,a=s+n;if(e=e.slice(s,a),o&&e.length!==n){const i=Array(n).fill(null);return Object.assign(i,e)}return e}const Ut=(t,e,r)=>{const{matchCase:n=!1,matchWord:o=!1,useRegExp:s=!1}=r,a=n?"g":"gi";return o&&(e=`\\b(${e})\\b`),s||(t=R(t)),new RegExp(e,a).test(t)};function jt(t){let{searchQuery:e=""}=t;const{rows:r,useRegExp:n=!1,matchCase:o=!1,matchWord:s=!1}=t;return(!n||!U(e))&&(e=R(e)),r.filter(a=>a.some(i=>{const d=String(i.value??"");return B(d)?Ut(String(i.value??""),e,{matchCase:o,matchWord:s,useRegExp:n}):!1}))}const te=l({name:"DataScreener",props:{data:{type:Array,default:()=>[],validator:C},pickFields:{type:Array,default:()=>[],validator:t=>t.every(e=>typeof e=="string")},perPage:{type:Number,default:25},currentPage:{type:Number,default:1}},components:{PrettyJson:ae,Pagination:le,Table:mt,AppHeader:_t,AppMain:bt,AppFooter:Nt,RenderFormat:wt,Search:xt,ErrorMessage:Mt},data(){return{searchQuery:"",stagedCurrentPage:this.currentPage,renderFormat:"table",searchQueryOptions:[],searchedData:[]}},computed:{isValidInput(){return C(this.data)},isRegExFriendlySearchQuery(){return U(this.searchQuery)},getNormalisedData(){const t=C(this.data)?Tt(this.data):[];return this.pickFields.length>0?zt(t,this.pickFields):t},getFields(){return ee(this.getNormalisedData)},shouldUseRegEx(){return this.searchQueryOptions.includes("use-regex")},shouldMatchCase(){return this.searchQueryOptions.includes("match-case")},shouldMatchWord(){return this.searchQueryOptions.includes("match-word")},getSearchedData(){return jt({rows:this.getNormalisedData,searchQuery:this.searchQuery,useRegExp:this.shouldUseRegEx,matchCase:this.shouldMatchCase,matchWord:this.shouldMatchWord})},getPaginatedData(){return Qt({rows:this.searchQuery?this.getSearchedData:this.getNormalisedData,page:this.stagedCurrentPage-1,perPage:this.perPage,withPlaceholders:!0})}},methods:{onSearch(t){this.searchQuery=t},onUpdateOptions(t){this.searchQueryOptions=t,this.onSearch(this.searchQuery)},onSelectFormat(t){this.renderFormat=t},onChangePage(t){this.stagedCurrentPage=t}}});const Ht={class:"ds"},Lt=h("div",{class:"ds__title"},"Results",-1);function qt(t,e,r,n,o,s){const a=m("ErrorMessage"),i=m("RenderFormat"),d=m("Search"),f=m("AppHeader"),g=m("Table"),b=m("PrettyJson"),I=m("AppMain"),F=m("Pagination"),re=m("AppFooter");return c(),u("section",Ht,[t.isValidInput?(c(),u(y,{key:1},[S(f,null,{default:w(()=>[Lt,S(i,{class:"ds__render-format","active-format":t.renderFormat,onSelectFormat:t.onSelectFormat},null,8,["active-format","onSelectFormat"]),S(d,{class:"ds__search",query:t.searchQuery,"is-valid-query":t.isRegExFriendlySearchQuery,activeOptions:t.searchQueryOptions,onSearch:t.onSearch,onUpdateOptions:t.onUpdateOptions},null,8,["query","is-valid-query","activeOptions","onSearch","onUpdateOptions"])]),_:1}),S(I,null,{default:w(()=>[t.renderFormat==="table"?(c(),v(g,{key:0,fields:t.getFields,rows:t.getPaginatedData,highlight:t.searchQuery},null,8,["fields","rows","highlight"])):(c(),v(b,{key:1,data:t.getPaginatedData},null,8,["data"]))]),_:1}),S(re,null,{default:w(()=>[S(F,{"total-items":t.getSearchedData.length,"per-page":t.perPage,"current-page":t.stagedCurrentPage,onChangePage:t.onChangePage},null,8,["total-items","per-page","current-page","onChangePage"])]),_:1})],64)):(c(),v(a,{key:0,message:`Invalid data was provided. Please provide an
      array of objects or an array of arrays.`}))])}const Wt=p(te,[["render",qt]]);te.__docgenInfo={displayName:"DataScreener",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"unknown[]"},defaultValue:{func:!0,value:"() => []"}},{name:"pickFields",type:{name:"string[]"},defaultValue:{func:!0,value:"() => []"}},{name:"perPage",type:{name:"number"},defaultValue:{func:!1,value:"25"}},{name:"currentPage",type:{name:"number"},defaultValue:{func:!1,value:"1"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/DataScreener.vue"]};export{Wt as D};
//# sourceMappingURL=DataScreener-028693e2.js.map
