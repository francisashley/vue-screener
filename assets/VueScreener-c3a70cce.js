import{d as k,o as u,e as f,t as S,f as h,g as $,j as A,k as w,l as v,F as x,m as I,n as C,p as F,q as V,s as O,u as oe,w as ie}from"./vue.esm-bundler-5f0b024b.js";const ce={class:"vue-screener__json-view"},j=k({__name:"JsonView",props:{data:{}},setup(n){return(e,r)=>(u(),f("pre",ce,S(JSON.stringify(e.data,null,2)),1))}});j.__docgenInfo={exportName:"default",displayName:"JsonView",description:"",tags:{},props:[{name:"data",required:!0,type:{name:"unknown"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/views/JsonView.vue"]};var L=function(e,r){return e<r?-1:e>r?1:0},ue=/(^0x[\da-fA-F]+$|^([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?!\.\d+)(?=\D|\s|$))|\d+)/g,T=/^\s+|\s+$/g,le=/\s+/g,de=/^[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?$/,_e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[/-]\d{1,4}[/-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,fe=/^0+[1-9]{1}[0-9]*$/,pe=/[^\x00-\x80]/,me=function(e,r){var t=e.localeCompare(r);return t?t/Math.abs(t):0},M=function(e,r){return e<r?-1:e>r?1:0},ge=function(e,r){for(var t=e.length,s=r.length,a=Math.min(t,s),o=0;o<a;o++){var c=e[o],d=r[o];if(c.normalizedString!==d.normalizedString){if(c.normalizedString===""!=(d.normalizedString===""))return c.normalizedString===""?-1:1;if(c.parsedNumber!==void 0&&d.parsedNumber!==void 0){var b=L(c.parsedNumber,d.parsedNumber);return b===0?M(c.normalizedString,d.normalizedString):b}else return c.parsedNumber!==void 0||d.parsedNumber!==void 0?c.parsedNumber!==void 0?-1:1:pe.test(c.normalizedString+d.normalizedString)&&c.normalizedString.localeCompare?me(c.normalizedString,d.normalizedString):M(c.normalizedString,d.normalizedString)}}return t>a||s>a?t<=a?-1:1:0},ve=function(e,r){return(e.chunks?!r.chunks:r.chunks)?e.chunks?-1:1:(e.isNaN?!r.isNaN:r.isNaN)?e.isNaN?-1:1:(e.isSymbol?!r.isSymbol:r.isSymbol)?e.isSymbol?-1:1:(e.isObject?!r.isObject:r.isObject)?e.isObject?-1:1:(e.isArray?!r.isArray:r.isArray)?e.isArray?-1:1:(e.isFunction?!r.isFunction:r.isFunction)?e.isFunction?-1:1:(e.isNull?!r.isNull:r.isNull)?e.isNull?-1:1:0},he=function(e,r){return e.value===r.value?0:e.parsedNumber!==void 0&&r.parsedNumber!==void 0?L(e.parsedNumber,r.parsedNumber):e.chunks&&r.chunks?ge(e.chunks,r.chunks):ve(e,r)},ye=function(e,r,t){for(var s=e.index,a=e.values,o=r.index,c=r.values,d=a.length,b=t.length,l=0;l<d;l++){var m=l<b?t[l]:null;if(m&&typeof m=="function"){var g=m(a[l].value,c[l].value);if(g)return g}else{var p=he(a[l],c[l]);if(p)return p*(m==="desc"?-1:1)}}return s-o},be=function(e){return typeof e=="function"?e:function(r){if(Array.isArray(r)){var t=Number(e);if(Number.isInteger(t))return r[t]}else if(r&&typeof r=="object"&&typeof e!="function")return r[e];return r}},Ne=function(e){return typeof e=="boolean"||e instanceof Boolean?Number(e).toString():typeof e=="number"||e instanceof Number?e.toString():e instanceof Date?e.getTime().toString():typeof e=="string"||e instanceof String?e.toLowerCase().replace(T,""):""},U=function(e){if(e.length!==0){var r=Number(e);if(!Number.isNaN(r))return r}},Se=function(e){if(_e.test(e)){var r=Date.parse(e);if(!Number.isNaN(r))return r}},we=function(e){var r=U(e);return r!==void 0?r:Se(e)},xe=function(e){return e.replace(ue,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")},ke=function(e){return e.replace(le," ").replace(T,"")},$e=function(e,r,t){if(de.test(e)&&(!fe.test(e)||r===0||t[r-1]!=="."))return U(e)||0},Ce=function(e,r,t){return{parsedNumber:$e(e,r,t),normalizedString:ke(e)}},Ie=function(e){var r=xe(e).map(Ce);return r},Ee=function(e){return typeof e=="function"},q=function(e){return Number.isNaN(e)||e instanceof Number&&Number.isNaN(e.valueOf())},Fe=function(e){return e===null},Ve=function(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)&&!(e instanceof Date)},Re=function(e){return typeof e=="symbol"},Oe=function(e){return e===void 0},Pe=function(e){if(typeof e=="string"||e instanceof String||(typeof e=="number"||e instanceof Number)&&!q(e)||typeof e=="boolean"||e instanceof Boolean||e instanceof Date){var r=Ne(e),t=we(r),s=Ie(t?""+t:r);return{parsedNumber:t,chunks:s,value:e}}return{isArray:Array.isArray(e),isFunction:Ee(e),isNaN:q(e),isNull:Fe(e),isObject:Ve(e),isSymbol:Re(e),isUndefined:Oe(e),value:e}},De=function(e,r){return r(e)},Me=function(e,r){return e[r]},qe=function(e,r,t){var s=r.length?r.map(be):[function(o){return o}],a=e.map(function(o,c){var d=s.map(function(b){return De(o,b)}).map(Pe);return{index:c,values:d}});return a.sort(function(o,c){return ye(o,c,t)}),a.map(function(o){return Me(e,o.index)})},ze=function(e){if(!e)return[];var r=Array.isArray(e)?[].concat(e):[e];return r.some(function(t){return typeof t!="string"&&typeof t!="number"&&typeof t!="function"})?[]:r},Ae=function(e){if(!e)return[];var r=Array.isArray(e)?[].concat(e):[e];return r.some(function(t){return t!=="asc"&&t!=="desc"&&typeof t!="function"})?[]:r};function je(n,e,r){if(!n||!Array.isArray(n))return[];var t=ze(e),s=Ae(r);return qe(n,t,s)}const Q=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Q.source);function P(n){return n&&Le.test(n)?n.replace(Q,"\\$&"):n||""}function H(n){try{return new RegExp(n),!0}catch{return!1}}function Te(n,e){const r=new RegExp(P(e),"ig");return n.replace(r,t=>`<mark>${t}</mark>`)}const D=(n,e)=>{const r=n.__vccOpts||n;for(const[t,s]of e)r[t]=s;return r},W={},Ue={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",style:{height:"1rem",width:"1rem"}},Qe=h("path",{fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z",class:""},null,-1),He=[Qe];function We(n,e){return u(),f("svg",Ue,He)}const Je=D(W,[["render",We]]);W.__docgenInfo={displayName:"Sort",description:"",tags:{},sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/icons/Sort.vue"]};const J={},Ge={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",style:{height:"1rem",width:"1rem"}},Ke=h("path",{fill:"currentColor",d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z",class:""},null,-1),Ze=[Ke];function Xe(n,e){return u(),f("svg",Ge,Ze)}const Ye=D(J,[["render",Xe]]);J.__docgenInfo={displayName:"SortUp",description:"",tags:{},sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/icons/SortUp.vue"]};const G={},Be={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sort-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",style:{height:"1rem",width:"1rem"}},er=h("path",{fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z",class:""},null,-1),rr=[er];function nr(n,e){return u(),f("svg",Be,rr)}const tr=D(G,[["render",nr]]);G.__docgenInfo={displayName:"SortDown",description:"",tags:{},sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/icons/SortDown.vue"]};const sr={class:"vue-screener__sort-selector"},K=k({__name:"SortSelector",props:{sortDirection:{}},setup(n){return(e,r)=>(u(),f("div",sr,[e.sortDirection===null?(u(),$(Je,{key:0})):e.sortDirection==="asc"?(u(),$(Ye,{key:1})):e.sortDirection==="desc"?(u(),$(tr,{key:2})):A("",!0)]))}});K.__docgenInfo={exportName:"default",displayName:"SortSelector",description:"",tags:{},props:[{name:"sortDirection",required:!0,type:{name:"SortDirection"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/stuff/SortSelector.vue"]};const ar={class:"vue-screener__table-view"},or={class:"vue-screener__table-view__thead"},ir={class:"vue-screener__table-view__tr"},cr=["onClick"],ur=["innerHTML"],lr={key:1,colspan:"100%",class:"vue-screener__table-view__td"},Z=k({__name:"TableView",props:{fields:{},rows:{},highlight:{}},setup(n){const{fields:e=[],rows:r=[],highlight:t=""}=n,s=w(null),a=w("desc"),o=v(()=>{var g;const l=r,m=((g=l[0])==null?void 0:g.findIndex(p=>p.key===s.value))??null;if(s.value&&a.value){const p=l.filter(i=>(i==null?void 0:i[m])===null||(i==null?void 0:i[m])===void 0),_=l.filter(i=>(i==null?void 0:i[m])!==null&&(i==null?void 0:i[m])!==void 0);return[...je(_,[i=>{var y;return(y=i==null?void 0:i[m])==null?void 0:y.value}],[a.value]),...p]}else return l}),c=(l,m)=>["string","number"].includes(typeof l)?Te(String(l),m):l,d=l=>s.value===l?a.value:null,b=l=>{s.value===l&&(a.value=a.value==="desc"?"asc":"desc"),s.value=l};return(l,m)=>(u(),f("table",ar,[h("thead",or,[h("tr",ir,[(u(!0),f(x,null,I(l.fields,(g,p)=>(u(),f("th",{key:p,class:C(["vue-screener__table-view__th",{"vue-screener__table-view__th--is-sortable":!0}]),onClick:_=>b(g)},[F(S(g)+" ",1),V(K,{"sort-direction":d(g)},null,8,["sort-direction"])],8,cr))),128))])]),h("tbody",null,[(u(!0),f(x,null,I(o.value,(g,p)=>(u(),f("tr",{class:"vue-screener__table-view__tr",key:p},[g?(u(!0),f(x,{key:0},I(g,(_,i)=>(u(),f("td",{key:i,innerHTML:_.hasValue?c(_.value,l.highlight):"",class:"vue-screener__table-view__td"},null,8,ur))),128)):(u(),f("td",lr))]))),128))])]))}});Z.__docgenInfo={exportName:"default",displayName:"TableView",description:"",tags:{},props:[{name:"fields",required:!0,type:{name:"Array",elements:[{name:"string"}]}},{name:"rows",required:!0,type:{name:"Array",elements:[{name:"NormalisedRow"}]}},{name:"highlight",required:!0,type:{name:"string"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/views/TableView.vue"]};const dr={class:"vue-screener__view-selector"},X=k({__name:"ViewSelector",props:{activeFormat:{}},emits:["select-format"],setup(n,{emit:e}){const r=t=>e("select-format",t);return(t,s)=>(u(),f("div",dr,[h("a",{href:"#",onClick:s[0]||(s[0]=O(a=>r("table"),["prevent"])),class:C(["vue-screener__view-selector__link",t.activeFormat==="table"&&"is-active"]),textContent:"Table"},null,2),h("a",{href:"#",onClick:s[1]||(s[1]=O(a=>r("raw"),["prevent"])),class:C(["vue-screener__view-selector__link",t.activeFormat==="raw"&&"is-active"]),textContent:"Raw"},null,2)]))}});X.__docgenInfo={exportName:"default",displayName:"ViewSelector",description:"",tags:{},props:[{name:"activeFormat",required:!0,type:{name:"union",elements:[{name:'"table"'},{name:'"raw"'}]}}],events:[{name:"select-format"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/stuff/ViewSelector.vue"]};const _r={class:"vue-screener__search"},fr=["value"],pr={class:"vue-screener__search__options"},mr=["title","onClick"],Y=k({__name:"VueScreenerSearch",props:{query:{},isValidQuery:{type:Boolean},activeOptions:{}},emits:["search","update-options"],setup(n,{emit:e}){const{query:r="",isValidQuery:t=!0,activeOptions:s=[]}=n,a=w([]),o=w(null),c=w([{id:"match-case",title:"Match case",text:"Aa"},{id:"match-word",title:"Match word",text:"ab"},{id:"use-regex",title:"Use regular expression",text:".*"}]),d=v(()=>s.some(_=>_==="use-regex")),b=v(()=>c.value.map(_=>({..._,isActive:s.includes(_.id)}))),l=_=>{const i=_.target.value;g(i),i&&(a.value.push(i),o.value=a.value.length-1)},m=_=>{const i=_.key==="ArrowUp",y=_.key==="ArrowDown";!i&&!y||o.value===null||(_.preventDefault(),i&&o.value>0?o.value--:y&&o.value<a.value.length-1&&o.value++,g(a.value[o.value]))},g=_=>{e("search",_)},p=_=>{s.includes(_)?e("update-options",s.filter(i=>i!==_)):e("update-options",[...s,_])};return(_,i)=>(u(),f("div",_r,[h("input",{value:_.query,onInput:l,onKeydown:m,type:"text",class:C(["vue-screener__search__input",[d.value&&!_.isValidQuery&&"vue-screener__search__input--error"]]),placeholder:"Search (↑↓ for history)"},null,42,fr),h("div",pr,[(u(!0),f(x,null,I(b.value,(y,E)=>(u(),f("button",{key:E,class:C(["vue-screener__search__options-button",[{"vue-screener__search__options-button--active":y.isActive},"vue-screener__search__options-button--"+y.id]]),title:y.title,onClick:R=>p(y.id)},S(y.text),11,mr))),128))])]))}});Y.__docgenInfo={exportName:"default",displayName:"VueScreenerSearch",description:"",tags:{},props:[{name:"query",required:!0,type:{name:"string"}},{name:"isValidQuery",required:!0,type:{name:"boolean"}},{name:"activeOptions",required:!0,type:{name:"Array",elements:[{name:"SearchQueryOption"}]}}],events:[{name:"search"},{name:"update-options"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/VueScreenerSearch.vue"]};const gr={class:"vue-screener__pagination"},vr={key:0,class:"vue-screener__pagination__buttons"},hr=["onClick"],yr={class:"vue-screener__pagination__details"},B=k({__name:"Pagination",props:{currentPage:{},totalItems:{},perPage:{}},emits:["change-page"],setup(n,{emit:e}){const{currentPage:r=1,totalItems:t=0,perPage:s=25}=n,a=v(()=>Math.ceil(t/s)),o=v(()=>Array.from(new Array(a.value+1).keys()).slice(1)),c=v(()=>r*s-s+1),d=v(()=>r*s>t?t:r*s),b=v(()=>a.value>=r);oe(()=>{m()}),ie(()=>t,()=>{m()});const l=p=>p===r,m=()=>{b.value||g(a.value?a.value:1)},g=p=>{e("change-page",p)};return(p,_)=>(u(),f("div",gr,[o.value.length>1?(u(),f("ul",vr,[(u(!0),f(x,null,I(o.value,i=>(u(),f("li",{key:i,class:C(["vue-screener__pagination__buttons-button",l(i)&&"vue-screener__pagination__buttons-button--active"])},[h("a",{href:"#",onClick:O(y=>g(i),["prevent"])},S(i),9,hr)],2))),128))])):A("",!0),h("div",yr,[p.totalItems?d.value<p.perPage?(u(),f(x,{key:1},[F(" Showing "+S(d.value)+" of "+S(p.totalItems),1)],64)):(u(),f(x,{key:2},[F(" Showing "+S(c.value)+"-"+S(d.value)+" of "+S(p.totalItems),1)],64)):(u(),f(x,{key:0},[F("Showing 0 results")],64))])]))}});B.__docgenInfo={exportName:"default",displayName:"Pagination",description:"",tags:{},props:[{name:"currentPage",required:!1,type:{name:"number"}},{name:"totalItems",required:!1,type:{name:"number"}},{name:"perPage",required:!1,type:{name:"number"}}],events:[{name:"change-page"}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/stuff/Pagination.vue"]};const br={class:"vue-screener__error-message"},ee=k({__name:"ErrorMessage",props:{message:{}},setup(n){return(e,r)=>(u(),f("div",br," [VueScreenerError]: "+S(e.message),1))}});ee.__docgenInfo={exportName:"default",displayName:"ErrorMessage",description:"",tags:{},props:[{name:"message",required:!0,type:{name:"string"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/stuff/ErrorMessage.vue"]};function re(n){if(typeof n=="string")return"string";if(typeof n=="number")return"number";if(typeof n=="boolean")return"boolean";if(typeof n=="symbol")return"symbol";if(typeof n>"u")return"undefined";if(typeof n=="object")return n===null?"null":Array.isArray(n)?"array":"object";throw`Could not establish type of \`${n}\``}function z(n){const e=r=>typeof r=="object"&&r!==null;return Array.isArray(n)&&n.every(r=>Array.isArray(r)||e(r))}function Nr(n){n=n.map(s=>Array.isArray(s)?{...s}:s);const e=(s,a)=>({key:s,value:a,type:re(a),hasValue:a!==null||a!==void 0});let r=n.map(s=>Object.keys(s).map(a=>e(a,s[a])));const t=ne(r);return r=r.map(s=>t.map(a=>s.find(o=>o.key===a)||e(a,void 0))),r}function ne(n){const e=new Set;for(const r of n)for(const t of r)e.add(t.key);return Array.from(e)}function Sr(n,e){return n.map(r=>e.map(t=>r.find(s=>s.key===t)||!1).filter(Boolean))}function wr(n){let{rows:e=[]}=n;const{page:r=1,perPage:t=25,withPlaceholders:s=!1}=n,a=t*r,o=a+t;if(e=e.slice(a,o),s&&e.length!==t){const c=Array(t).fill(null);return Object.assign(c,e)}return e}const xr=(n,e,r)=>{const{matchCase:t=!1,matchWord:s=!1,useRegExp:a=!1}=r,o=t?"g":"gi";return s&&(e=`\\b(${e})\\b`),a||(n=P(n)),new RegExp(e,o).test(n)};function kr(n){let{searchQuery:e=""}=n;const{rows:r,useRegExp:t=!1,matchCase:s=!1,matchWord:a=!1}=n;return(!t||!H(e))&&(e=P(e)),r.filter(o=>o.some(c=>{const d=String(c.value??"");return re(d)?xr(String(c.value??""),e,{matchCase:s,matchWord:a,useRegExp:t}):!1}))}const $r={class:"vue-screener"},Cr={class:"vue-screener__header"},Ir=h("div",{class:"vue-screener__header-title"},"Results",-1),Er={class:"vue-screener__footer"},Fr=k({__name:"VueScreener",props:{data:{},pickFields:{},perPage:{},currentPage:{}},setup(n){const{data:e=[],pickFields:r=[],perPage:t=25,currentPage:s=1}=n,a=w(""),o=w(s),c=w("table"),d=w([]),b=v(()=>z(e)),l=v(()=>H(a.value)),m=v(()=>{const N=z(e)?Nr(e):[];return r.length>0?Sr(N,r):N}),g=v(()=>ne(m.value)),p=v(()=>d.value.includes("use-regex")),_=v(()=>d.value.includes("match-case")),i=v(()=>d.value.includes("match-word")),y=v(()=>kr({rows:m.value,searchQuery:a.value,useRegExp:p.value,matchCase:_.value,matchWord:i.value})),E=v(()=>wr({rows:a.value?y.value:m.value,page:o.value-1,perPage:t,withPlaceholders:!0})),R=N=>{a.value=N},te=N=>{d.value=N,R(a.value)},se=N=>{c.value=N},ae=N=>{o.value=N};return(N,Vr)=>(u(),f("section",$r,[b.value?(u(),f(x,{key:0},[h("header",Cr,[Ir,V(X,{class:"vue-screener__view-selector","active-format":c.value,onSelectFormat:se},null,8,["active-format"]),V(Y,{class:"vue-screener__search",query:a.value,"is-valid-query":l.value,"active-options":d.value,onSearch:R,onUpdateOptions:te},null,8,["query","is-valid-query","active-options"])]),h("main",null,[c.value==="table"?(u(),$(Z,{key:0,fields:g.value,rows:E.value,highlight:a.value},null,8,["fields","rows","highlight"])):(u(),$(j,{key:1,data:E.value},null,8,["data"]))]),h("footer",Er,[V(B,{"total-items":y.value.length,"per-page":N.perPage,"current-page":o.value,onChangePage:ae},null,8,["total-items","per-page","current-page"])])],64)):(u(),$(ee,{key:1,message:`Invalid data was provided. Please provide an
      array of objects or an array of arrays.`}))]))}});Fr.__docgenInfo={exportName:"default",displayName:"VueScreener",description:"",tags:{},props:[{name:"data",required:!1,type:{name:"Array",elements:[{name:"unknown"}]}},{name:"pickFields",required:!1,type:{name:"Array",elements:[{name:"string"}]}},{name:"perPage",required:!1,type:{name:"number"}},{name:"currentPage",required:!1,type:{name:"number"}}],sourceFiles:["/home/runner/work/vue-screener/vue-screener/src/components/VueScreener.vue"]};export{Fr as _};
//# sourceMappingURL=VueScreener-c3a70cce.js.map
